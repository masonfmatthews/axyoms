<% if @concept %>
  <h3 class="header-buttons">
    <% if current_user %>
      <% @concept.units.each do |u| %>
        <%= link_to u.name, edit_unit_path(u),
          class: "label #{u.completed? ? "label-primary" : "label-default"}"%></span>
      <% end %>
      <%= link_to add_link_text("Unit", @concept.units.blank?),
        new_unit_path(concept_uuid: @concept.uuid),
        class: "btn btn-default btn-sm" %>
    <% else %>
      <% @concept.units.each do |u| %>
        <span class="label <%= u.completed? ? "label-primary" : "label-default" %>">
          <%= u.name %>
        </span>
      <% end %>
    <% end %>
  </h3>

  <h1><%= @concept.name %></h1>

  <div class="row">

    <div class="col-md-6">
      <% if @concept.description.blank? %>
        <h3 class="text-muted">No details</h3>
      <% else %>
        <h3>Details</h3>
        <p><%= @concept.description %></p>
      <% end %>
      <% if current_user %>
        <button type="button" class="btn btn-default" data-toggle="modal" data-target="#editConceptModal">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit Concept
        </button>
      <% end %>
    </div>

    <div class="col-md-6">
      <h3>Assignments</h3>
      <% if @concept.assignments.blank? %>
        <p class="text-muted">None found.</p>
      <% else %>
        <ul>
          <% @concept.assignments.each do |a| %>
            <li><%= a.name %></li>
          <% end %>
        </ul>
      <% end %>

      <h3>References</h3>

      <% if @concept.references.blank? %>
        <p class="text-muted">None found.</p>
      <% else %>
        <ul>
          <% @concept.references.each do |r| %>
            <li><%= link_to r.description, r.uri, target: "_blank" %></li>
          <% end %>
        </ul>
      <% end %>
    </div>

  </div>

  <%= render "edit" %>
<% end %>
