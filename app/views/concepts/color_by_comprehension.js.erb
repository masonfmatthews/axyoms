var actives = <%= @color_hash.to_json.html_safe %>

var all_circles = d3.selectAll(".node")

all_circles.filter(function(d) {return actives.hasOwnProperty(d.uuid);})
    .transition()
    .duration(500)
    .style("fill", function(d) {return redToGreen[actives[d.uuid]];});

all_circles.filter(function(d) {return !(actives.hasOwnProperty(d.uuid));})
    .transition()
    .duration(500)
    .style("fill", function(d) {return greyscale(d.depth);});

d3.selectAll(".link")
    .transition()
    .duration(500)
    .style("stroke", greyscale(3));
